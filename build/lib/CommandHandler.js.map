{"version":3,"sources":["../../src/lib/CommandHandler.js"],"names":["CommandHandler","constructor","_pingsRecieved","_pingsResponded","_pingsDelay","_pingsError","_commands","loadAllCommands","onMessage","message","userCommand","channel","prefixes","id","client","user","setLanguage","forEach","c","console","log","aliases","command","indexOf","exec","reply","push","init"],"mappings":"AAAA;;;AAGA;;;;;;AAEA;;;;AACA;;;;;;AAEe,MAAMA,cAAN,CAAoB;AACjCC,gBAAc;AACZ,SAAKC,cAAL,GAAsB,EAAtB;AACA,SAAKC,eAAL,GAAuB,EAAvB;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKC,eAAL;AACD;;AAEDC,YAAUC,OAAV,EAAmB;AACjB,QAAIC,cAAc,6BAAM,EAAED,OAAF,EAAWE,SAASF,QAAQE,OAA5B,EAAqCC,UAAU,CAAC,GAAD,CAA/C,EAAsDC,IAAIJ,QAAQK,MAAR,CAAeC,IAAf,CAAoBF,EAA9E,EAAN,CAAlB;AACAH,gBAAYM,WAAZ,CAAwB,IAAxB;AACA,SAAKV,SAAL,CAAeW,OAAf,CAAuBC,KAAK;AAC1BC,cAAQC,GAAR,CAAYF,EAAEG,OAAd,EAAuBX,YAAYY,OAAnC;AACA,UAAIJ,EAAEG,OAAF,CAAUE,OAAV,CAAkBb,YAAYY,OAA9B,IAAyC,CAAC,CAA9C,EAAiD;AAC/CJ,UAAEM,IAAF,CAAOd,WAAP;AACAA,oBAAYe,KAAZ,CAAkB,uBAAlB;AACD;AACF,KAND;AAOAN,YAAQC,GAAR,CAAY,SAAZ,EAAuBV,WAAvB;AACD;;AAEDH,oBAAkB;AAChB,SAAKD,SAAL,GAAiB,EAAjB;AACAa,YAAQC,GAAR,CAAY,yBAAZ;AACA,8BAAWH,OAAX,CAAmBC,KAAKA,EAAED,OAAF,CAAUC,KAAK,KAAKZ,SAAL,CAAeoB,IAAf,CAAoB,IAAIR,CAAJ,EAApB,CAAf,CAAxB;AACAC,YAAQC,GAAR,CAAY,KAAKd,SAAjB;AACA,SAAKA,SAAL,CAAeW,OAAf,CAAuBC,KAAKA,EAAES,IAAF,EAA5B;AACAR,YAAQC,GAAR,CAAY,UAAZ,EAAwB,yBAAxB;AACD;AA9BgC;kBAAdpB,c","file":"CommandHandler.js","sourcesContent":["/**\r\n * Created by macdja38 on 2016-09-20.\r\n */\r\n\"use strict\";\r\n\r\nimport parse from \"./CommandParser\";\r\nimport Commands from \"../commands\";\r\n\r\nexport default class CommandHandler{\r\n  constructor() {\r\n    this._pingsRecieved = {};\r\n    this._pingsResponded = {};\r\n    this._pingsDelay = {};\r\n    this._pingsError = {};\r\n    this._commands = [];\r\n    this.loadAllCommands();\r\n  }\r\n\r\n  onMessage(message) {\r\n    let userCommand = parse({ message, channel: message.channel, prefixes: [\"*\"], id: message.client.user.id});\r\n    userCommand.setLanguage(\"en\");\r\n    this._commands.forEach(c => {\r\n      console.log(c.aliases, userCommand.command);\r\n      if (c.aliases.indexOf(userCommand.command) > -1) {\r\n        c.exec(userCommand);\r\n        userCommand.reply(\"Wow, that's a command\");\r\n      }\r\n    });\r\n    console.log(\"command\", userCommand);\r\n  }\r\n\r\n  loadAllCommands() {\r\n    this._commands = [];\r\n    console.log(Commands());\r\n    Commands().forEach(c => c.forEach(c => this._commands.push(new c())));\r\n    console.log(this._commands);\r\n    this._commands.forEach(c => c.init());\r\n    console.log(\"commands\", Commands());\r\n  }\r\n}"]}