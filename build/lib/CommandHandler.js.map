{"version":3,"sources":["../../src/lib/CommandHandler.js"],"names":["CommandHandler","constructor","_pingsRecieved","_pingsResponded","_pingsDelay","_pingsError","_commands","loadAllCommands","onMessage","message","userCommand","channel","prefixes","id","client","user","setLanguage","forEach","c","console","log","aliases","command","indexOf","exec","reply","push","init"],"mappings":"AAAA;;;AAGA;;;;;;AAEA;;;;AACA;;;;;;AAEe,MAAMA,cAAN,CAAoB;AACjCC,gBAAc;AACZ,SAAKC,cAAL,GAAsB,EAAtB;AACA,SAAKC,eAAL,GAAuB,EAAvB;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKC,eAAL;AACD;;AAEDC,YAAUC,OAAV,EAAmB;AACjB,QAAIC,cAAc,6BAAM,EAAED,OAAF,EAAWE,SAASF,QAAQE,OAA5B,EAAqCC,UAAU,CAAC,GAAD,CAA/C,EAAsDC,IAAIJ,QAAQK,MAAR,CAAeC,IAAf,CAAoBF,EAA9E,EAAN,CAAlB;AACAH,gBAAYM,WAAZ,CAAwB,IAAxB;AACA,SAAKV,SAAL,CAAeW,OAAf,CAAuBC,KAAK;AAC1BC,cAAQC,GAAR,CAAYF,EAAEG,OAAd,EAAuBX,YAAYY,OAAnC;AACA,UAAIJ,EAAEG,OAAF,CAAUE,OAAV,CAAkBb,YAAYY,OAA9B,IAAyC,CAAC,CAA9C,EAAiD;AAC/CJ,UAAEM,IAAF,CAAOd,WAAP;AACAA,oBAAYe,KAAZ,CAAkB,uBAAlB;AACD;AACF,KAND;AAOAN,YAAQC,GAAR,CAAY,SAAZ,EAAuBV,WAAvB;AACD;;AAEDH,oBAAkB;AAChB,SAAKD,SAAL,GAAiB,EAAjB;AACAa,YAAQC,GAAR,CAAY,yBAAZ;AACA,8BAAWH,OAAX,CAAmBC,KAAKA,EAAED,OAAF,CAAUC,KAAK,KAAKZ,SAAL,CAAeoB,IAAf,CAAoB,IAAIR,CAAJ,EAApB,CAAf,CAAxB;AACAC,YAAQC,GAAR,CAAY,KAAKd,SAAjB;AACA,SAAKA,SAAL,CAAeW,OAAf,CAAuBC,KAAKA,EAAES,IAAF,EAA5B;AACAR,YAAQC,GAAR,CAAY,UAAZ,EAAwB,yBAAxB;AACD;AA9BgC;kBAAdpB,c","file":"CommandHandler.js","sourcesContent":["/**\n * Created by macdja38 on 2016-09-20.\n */\n\"use strict\";\n\nimport parse from \"./CommandParser\";\nimport Commands from \"../commands\";\n\nexport default class CommandHandler{\n  constructor() {\n    this._pingsRecieved = {};\n    this._pingsResponded = {};\n    this._pingsDelay = {};\n    this._pingsError = {};\n    this._commands = [];\n    this.loadAllCommands();\n  }\n\n  onMessage(message) {\n    let userCommand = parse({ message, channel: message.channel, prefixes: [\"*\"], id: message.client.user.id});\n    userCommand.setLanguage(\"en\");\n    this._commands.forEach(c => {\n      console.log(c.aliases, userCommand.command);\n      if (c.aliases.indexOf(userCommand.command) > -1) {\n        c.exec(userCommand);\n        userCommand.reply(\"Wow, that's a command\");\n      }\n    });\n    console.log(\"command\", userCommand);\n  }\n\n  loadAllCommands() {\n    this._commands = [];\n    console.log(Commands());\n    Commands().forEach(c => c.forEach(c => this._commands.push(new c())));\n    console.log(this._commands);\n    this._commands.forEach(c => c.init());\n    console.log(\"commands\", Commands());\n  }\n}"]}