{"version":3,"sources":["../../src/utils/MusicDB.js"],"names":["console","log","musicDB","constructor","r","table","searchCache","videoCache","ensureTable","getAll","args","saveVid","video","insert","saveSearch","string","result","id","timeFetched","Date","now","run","getSearch","get"],"mappings":"AAAA;;;AAGA;;;;;;;AACA;;AACA;;AAEA;;;;;;AAEAA,QAAQC,GAAR;;AAEO,MAAMC,OAAN,0BAA6B;AAClCC,cAAYC,CAAZ,EAAe;AACb,UAAMA,CAAN;AACA,SAAKC,KAAL,GAAa,OAAb;AACA,SAAKC,WAAL,GAAmB,aAAnB;AACA,SAAKC,UAAL,GAAkB,YAAlB;AACA,SAAKC,WAAL,CAAiB,OAAjB,EAA0B,EAA1B;AACA,SAAKA,WAAL,CAAiB,KAAKF,WAAtB;AACA,SAAKE,WAAL,CAAiB,KAAKD,UAAtB;AACD;;AAEDE,SAAO,GAAGC,IAAV,EAAgB;AACd,WAAO,KAAKN,CAAL,CAAOC,KAAP,CAAa,KAAKA,KAAlB,EAAyBI,MAAzB,CAAgC,GAAGC,IAAnC,CAAP;AACD;;AAEDC,UAAQC,KAAR,EAAe;AACb,SAAKP,KAAL,CAAW,KAAKE,UAAhB,EAA4BM,MAA5B,CAAmCD,KAAnC;AACD;;AAEDE,aAAWC,MAAX,EAAmBC,MAAnB,EAA2B;AACzB,WAAO,KAAKZ,CAAL,CAAOC,KAAP,CAAa,KAAKC,WAAlB,EAA+BO,MAA/B,CAAsC,EAACI,IAAIF,MAAL,EAAaC,QAAQA,MAArB,EAA6BE,aAAaC,KAAKC,GAAL,EAA1C,EAAtC,EAA6FC,GAA7F,EAAP;AACD;;AAEDC,YAAUP,MAAV,EAAkB;AAChB,WAAO,KAAKX,CAAL,CAAOC,KAAP,CAAa,KAAKC,WAAlB,EAA+BiB,GAA/B,CAAmCR,MAAnC,EAA2CM,GAA3C,EAAP;AACD;AAzBiC;;QAAvBnB,O,GAAAA,O;kBA4BEA,O","file":"MusicDB.js","sourcesContent":["/**\r\n * Created by macdja38 on 2016-11-26.\r\n */\r\n\"use strict\";\r\nimport \"babel-core/register\";\r\nimport \"source-map-support/register\";\r\n\r\nimport BaseDB from \"./BaseDB\";\r\n\r\nconsole.log(BaseDB);\r\n\r\nexport class musicDB extends BaseDB {\r\n  constructor(r) {\r\n    super(r);\r\n    this.table = \"queue\";\r\n    this.searchCache = \"searchCache\";\r\n    this.videoCache = \"videoCache\";\r\n    this.ensureTable(\"queue\", {});\r\n    this.ensureTable(this.searchCache);\r\n    this.ensureTable(this.videoCache);\r\n  }\r\n\r\n  getAll(...args) {\r\n    return this.r.table(this.table).getAll(...args);\r\n  }\r\n\r\n  saveVid(video) {\r\n    this.table(this.videoCache).insert(video);\r\n  }\r\n\r\n  saveSearch(string, result) {\r\n    return this.r.table(this.searchCache).insert({id: string, result: result, timeFetched: Date.now()}).run();\r\n  }\r\n\r\n  getSearch(string) {\r\n    return this.r.table(this.searchCache).get(string).run();\r\n  }\r\n}\r\n\r\nexport default musicDB;"]}