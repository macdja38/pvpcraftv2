{"version":3,"sources":["../../../src/commands/Hats/hat.js"],"names":["https","require","request","defaults","encoding","Canvas","Image","requirements","Alerts","constructor","args","aliases","module","nodes","description","usage","exec","command","msg","message","avatarURL","author","get","err","res","image","console","log","dir","data","Buffer","from","img","src","process","nextTick","canvas","ctx","getContext","drawImage","init"],"mappings":";;;;;;;AAWA;;;;;;;;AAXA;;;;AAIA,IAAIA,QAAQ,IAAIC,OAAJ,CAAY,OAAZ,CAAZ;;AAEA,IAAIC,UAAUD,QAAQ,SAAR,EAAmBE,QAAnB,CAA4B,EAACC,UAAU,IAAX,EAA5B,CAAd;;AAEA,IAAIC,SAASJ,QAAQ,QAAR,CAAb;AAAA,IACIK,QAAQD,OAAOC,KADnB;;AAKA,IAAIC,eAAe,CAAC,UAAD,CAAnB;;AAEO,MAAMC,MAAN,2BAA6B;AAClCC,cAAY,GAAGC,IAAf,EAAqB;AACnB,UAAM,GAAGA,IAAT,EAAe;AACbC,eAAS,CAAC,KAAD,CADI;AAEbC,cAAQ,UAFK;AAGbC,aAAO,CAAC,gBAAD,CAHM;AAIbC,mBAAa,sCAJA;AAKbC,aAAO;AALM,KAAf;AAOD;;AAEKC,MAAN,CAAWC,OAAX,EAAoB;AAAA;AAClB,UAAIC,MAAMD,QAAQE,OAAlB;AACA,UAAIC,YAAYF,IAAIG,MAAJ,CAAWD,SAA3B;;AAEAlB,cAAQoB,GAAR,CAAYF,SAAZ,EAAuB,UAACG,GAAD,EAAMC,GAAN,EAAWC,KAAX,EAAoB;AACzCC,gBAAQC,GAAR,CAAYF,KAAZ;AACAC,gBAAQE,GAAR,CAAYH,KAAZ;AACA,YAAII,OAAOC,OAAOC,IAAP,CAAYN,KAAZ,CAAX;AACAC,gBAAQC,GAAR,CAAYE,IAAZ;AACAH,gBAAQE,GAAR,CAAYC,IAAZ;AACA,YAAIG,MAAM,IAAI1B,KAAJ,EAAV;AACA0B,YAAIC,GAAJ,GAAUJ,IAAV;AACAK,gBAAQC,QAAR,CAAiB,YAAM;AACrB,cAAIC,SAAS,IAAI/B,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAb;AAAA,cAAmCgC,MAAMD,OAAOE,UAAP,CAAkB,IAAlB,CAAzC;AACAD,cAAIE,SAAJ,CAAcP,GAAd,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,GAAzB,EAA8B,GAA9B;AACD,SAHD;AAID,OAZD;AAJkB;AAiBnB;;AAEDQ,SAAO;AACLd,YAAQC,GAAR,CAAY,UAAZ;AACD;AAhCiC;;QAAvBnB,M,GAAAA,M;kBAmCEA,M","file":"hat.js","sourcesContent":["/**\r\n * Created by macdja38 on 2016-11-13.\r\n */\r\n\r\nvar https = new require('https');\r\n\r\nvar request = require('request').defaults({encoding: null});\r\n\r\nvar Canvas = require('canvas')\r\n  , Image = Canvas.Image;\r\n\r\nimport Command from \"../Command\";\r\n\r\nlet requirements = [\"Warframe\"];\r\n\r\nexport class Alerts extends Command {\r\n  constructor(...args) {\r\n    super(...args, {\r\n      aliases: ['hat'],\r\n      module: 'warframe',\r\n      nodes: ['warframe.alert'],\r\n      description: \"Display the current warframe alerts.\",\r\n      usage: []\r\n    });\r\n  }\r\n\r\n  async exec(command) {\r\n    let msg = command.message;\r\n    let avatarURL = msg.author.avatarURL;\r\n\r\n    request.get(avatarURL, (err, res, image)=> {\r\n      console.log(image);\r\n      console.dir(image);\r\n      let data = Buffer.from(image);\r\n      console.log(data);\r\n      console.dir(data);\r\n      let img = new Image;\r\n      img.src = data;\r\n      process.nextTick(() => {\r\n        let canvas = new Canvas(128, 128), ctx = canvas.getContext('2d');\r\n        ctx.drawImage(img, 0, 0, 128, 128);\r\n      })\r\n    });\r\n  }\r\n\r\n  init() {\r\n    console.log(\"Got init\");\r\n  }\r\n}\r\n\r\nexport default Alerts;"]}